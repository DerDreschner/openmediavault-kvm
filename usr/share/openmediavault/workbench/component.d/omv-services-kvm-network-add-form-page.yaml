version: "1.0"
type: component
data:
  name: omv-services-kvm-network-add-form-page
  type: formPage
  config:
    request:
      service: Kvm
      post:
        method: setNetwork
    fields:
      - type: textInput
        name: name
        label: _("Name")
      - type: textInput
        name: macaddress
        label: _("MAC address")
      - type: textInput
        name: gatewayip
        label: _("Gateway IP address")
        validators:
          patternType: 'ipv4'
      - type: select
        name: subnet
        label: _("Subnet mask")
        value: "255.255.255.0"
        store:
          data:
            - - "255.255.255.0"
              - "/24 --> 255.255.255.0"
            - - "255.255.255.128"
              - "/25 --> 255.255.255.128"
            - - "255.255.255.192"
              - "/26 --> 255.255.255.192"
            - - "255.255.255.224"
              - "/27 --> 255.255.255.224"
            - - "255.255.255.240"
              - "/28 --> 255.255.255.240"
            - - "255.255.255.248"
              - "/29 --> 255.255.255.248"
            - - "255.255.255.252"
              - "/30 --> 255.255.255.252"
      - type: checkbox
        name: dhcp
        label: _("DHCP")
      - type: textInput
        name: startaddress
        label: _("DHCP starting address")
        modifiers:
          - type: visible
            constraint:
              arg0:
                prop: dhcp
              arg1: true
        validators:
          patternType: 'ipv4'
      - type: textInput
        name: endaddress
        label: _("DHCP ending address")
        modifiers:
          - type: visible
            constraint:
              arg0:
                prop: dhcp
              arg1: true
        validators:
          patternType: 'ipv4'
    buttons:
      - template: submit
        execute:
          type: url
          url: "/services/kvm/network"
      - template: cancel
        execute:
          type: url
          url: "/services/kvm/network"
